

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>torchsar.autofocus package &mdash; TorchSAR 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/katex-math.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"></script>
        <script src="_static/katex_autorenderer.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="torchsar.base package" href="torchsar.base.html" />
    <link rel="prev" title="torchsar package" href="torchsar.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> TorchSAR
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">torchsar</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="torchsar.html">torchsar package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="torchsar.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">torchsar.autofocus package</a></li>
<li class="toctree-l4"><a class="reference internal" href="torchsar.base.html">torchsar.base package</a></li>
<li class="toctree-l4"><a class="reference internal" href="torchsar.calibration.html">torchsar.calibration package</a></li>
<li class="toctree-l4"><a class="reference internal" href="torchsar.dsp.html">torchsar.dsp package</a></li>
<li class="toctree-l4"><a class="reference internal" href="torchsar.evaluation.html">torchsar.evaluation package</a></li>
<li class="toctree-l4"><a class="reference internal" href="torchsar.imaging.html">torchsar.imaging package</a></li>
<li class="toctree-l4"><a class="reference internal" href="torchsar.layerfunction.html">torchsar.layerfunction package</a></li>
<li class="toctree-l4"><a class="reference internal" href="torchsar.misc.html">torchsar.misc package</a></li>
<li class="toctree-l4"><a class="reference internal" href="torchsar.module.html">torchsar.module package</a></li>
<li class="toctree-l4"><a class="reference internal" href="torchsar.sarcfg.html">torchsar.sarcfg package</a></li>
<li class="toctree-l4"><a class="reference internal" href="torchsar.sharing.html">torchsar.sharing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="torchsar.simulation.html">torchsar.simulation package</a></li>
<li class="toctree-l4"><a class="reference internal" href="torchsar.utils.html">torchsar.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="torchsar.html#module-torchsar">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TorchSAR</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">torchsar</a> &raquo;</li>
        
          <li><a href="torchsar.html">torchsar package</a> &raquo;</li>
        
      <li>torchsar.autofocus package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/torchsar.autofocus.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="torchsar-autofocus-package">
<h1>torchsar.autofocus package<a class="headerlink" href="#torchsar-autofocus-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-torchsar.autofocus.focusing">
<span id="torchsar-autofocus-focusing-module"></span><h2>torchsar.autofocus.focusing module<a class="headerlink" href="#module-torchsar.autofocus.focusing" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="torchsar.autofocus.focusing.defocus">
<code class="sig-prename descclassname">torchsar.autofocus.focusing.</code><code class="sig-name descname">defocus</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">pa=None</em>, <em class="sig-param">pr=None</em>, <em class="sig-param">isfft=True</em>, <em class="sig-param">ftshift=True</em><span class="sig-paren">)</span><a class="headerlink" href="#torchsar.autofocus.focusing.defocus" title="Permalink to this definition">¶</a></dt>
<dd><p>Defocus image with given phase error</p>
<p>Defocus image in azimuth by</p>
<div class="math">
\[Y(k, n_r)=\sum_{n_a=0}^{N_a-1} X(n_a, n_r) \exp \left(j \varphi_{n_a}\right) \exp \left(-j \frac{2 \pi}{N_a} k n_a\right)

\]</div>
<p>where, <span class="math">\(\varphi_{n_a}\)</span> is the estimated azimuth phase error of the <span class="math">\(n_a\)</span>-th azimuth line, <span class="math">\(y(k, n_r)\)</span> is
the focused pixel.</p>
<p>The defocus method in range is the same as azimuth.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>Tensor</em>) – Focused image data <span class="math">\({\mathbf X} \in{\mathbb C}^{N\times N_c\times N_a\times N_r}\)</span> or
<span class="math">\({\mathbf X} \in{\mathbb R}^{N\times N_a\times N_r\times 2}\)</span> or
<span class="math">\({\mathbf X} \in{\mathbb R}^{N\times N_c\times N_a\times N_r\times 2}\)</span>.</p></li>
<li><p><strong>pa</strong> (<em>Tensor</em><em>, </em><em>optional</em>) – Defocus parameters in azimuth, phase error in rad unit. (the default is None, not focus)</p></li>
<li><p><strong>pr</strong> (<em>Tensor</em><em>, </em><em>optional</em>) – Defocus parameters in range, phase error in rad unit. (the default is None, not focus)</p></li>
<li><p><strong>isfft</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Is need do fft (the default is True)</p></li>
<li><p><strong>ftshift</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Is shift zero frequency to center when do fft/ifft/fftfreq (the default is True)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tensor of defocused images.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(Tensor)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.9)"><strong>TypeError</strong></a> – <code class="xref py py-attr docutils literal notranslate"><span class="pre">x</span></code> is complex and should be in complex or real represent formation!</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="torchsar.autofocus.focusing.focus">
<code class="sig-prename descclassname">torchsar.autofocus.focusing.</code><code class="sig-name descname">focus</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">pa=None</em>, <em class="sig-param">pr=None</em>, <em class="sig-param">isfft=True</em>, <em class="sig-param">ftshift=True</em><span class="sig-paren">)</span><a class="headerlink" href="#torchsar.autofocus.focusing.focus" title="Permalink to this definition">¶</a></dt>
<dd><p>Focus image with given phase error</p>
<p>Focus image in azimuth by</p>
<div class="math">
\[Y(k, n_r)=\sum_{n_a=0}^{N_a-1} X(n_a, n_r) \exp \left(-j \varphi_{n_a}\right) \exp \left(-j \frac{2 \pi}{N_a} k n_a\right)

\]</div>
<p>where, <span class="math">\(\varphi_{n_a}\)</span> is the estimated azimuth phase error of the <span class="math">\(n_a\)</span>-th azimuth line, <span class="math">\(y(k, n_r)\)</span> is
the focused pixel.</p>
<p>The focus method in range is the same as azimuth.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>Tensor</em>) – Defocused image data <span class="math">\({\mathbf X} \in{\mathbb C}^{N\times N_c\times N_a\times N_r}\)</span> or
<span class="math">\({\mathbf X} \in{\mathbb R}^{N\times N_a\times N_r\times 2}\)</span> or
<span class="math">\({\mathbf X} \in{\mathbb R}^{N\times N_c\times N_a\times N_r\times 2}\)</span>.</p></li>
<li><p><strong>pa</strong> (<em>Tensor</em><em>, </em><em>optional</em>) – Focus parameters in azimuth, phase error in rad unit. (the default is None, not focus)</p></li>
<li><p><strong>pr</strong> (<em>Tensor</em><em>, </em><em>optional</em>) – Focus parameters in range, phase error in rad unit. (the default is None, not focus)</p></li>
<li><p><strong>isfft</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Is need do fft (the default is True)</p></li>
<li><p><strong>ftshift</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Is shift zero frequency to center when do fft/ifft/fftfreq (the default is True)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tensor of focused images.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(Tensor)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.9)"><strong>TypeError</strong></a> – <code class="xref py py-attr docutils literal notranslate"><span class="pre">x</span></code> is complex and should be in complex or real represent formation!</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-torchsar.autofocus.fourier_domain_optim">
<span id="torchsar-autofocus-fourier-domain-optim-module"></span><h2>torchsar.autofocus.fourier_domain_optim module<a class="headerlink" href="#module-torchsar.autofocus.fourier_domain_optim" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="torchsar.autofocus.fourier_domain_optim.af_ffo">
<code class="sig-prename descclassname">torchsar.autofocus.fourier_domain_optim.</code><code class="sig-name descname">af_ffo</code><span class="sig-paren">(</span><em class="sig-param">g</em>, <em class="sig-param">w=None</em>, <em class="sig-param">p=2</em>, <em class="sig-param">niter=10</em>, <em class="sig-param">eta=0.5</em>, <em class="sig-param">tol=0.01</em>, <em class="sig-param">ftshift=False</em><span class="sig-paren">)</span><a class="headerlink" href="#torchsar.autofocus.fourier_domain_optim.af_ffo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="torchsar.autofocus.fourier_domain_optim.af_ffo_sm">
<code class="sig-prename descclassname">torchsar.autofocus.fourier_domain_optim.</code><code class="sig-name descname">af_ffo_sm</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">p=2</em>, <em class="sig-param">niter=10</em>, <em class="sig-param">delta=None</em>, <em class="sig-param">toli=0.01</em>, <em class="sig-param">tolo=0.01</em>, <em class="sig-param">ftshift=True</em>, <em class="sig-param">islog=False</em><span class="sig-paren">)</span><a class="headerlink" href="#torchsar.autofocus.fourier_domain_optim.af_ffo_sm" title="Permalink to this definition">¶</a></dt>
<dd><p>Stage-by-Stage minimum entropy</p>
<p>[1] Morrison Jr, Robert Lee; Autofocus, Entropy-based (2002): Entropy-based autofocus for synthetic aperture radar.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>Tensor</em>) – Corrupt complex SAR image. N-Na-Nr(complex) or N-Na-Nr-2(real)</p></li>
<li><p><strong>niter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – The number of iteration (the default is 10)</p></li>
<li><p><strong>delta</strong> (<em>{float</em><em> or </em><em>None}</em><em>, </em><em>optional</em>) – The change step (the default is None (i.e. PI))</p></li>
<li><p><strong>toli</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – Tolerance error for inner loop (the default is 1e-2)</p></li>
<li><p><strong>tolo</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – Tolerance error for outer loop (the default is 1e-2)</p></li>
<li><p><strong>ftshift</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Shift the zero frequency to center? (the default is True)</p></li>
<li><p><strong>islog</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Print log information? (the default is False)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-torchsar.autofocus.maximum_contrast">
<span id="torchsar-autofocus-maximum-contrast-module"></span><h2>torchsar.autofocus.maximum_contrast module<a class="headerlink" href="#module-torchsar.autofocus.maximum_contrast" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="torchsar.autofocus.maximum_contrast.mcaf_sm">
<code class="sig-prename descclassname">torchsar.autofocus.maximum_contrast.</code><code class="sig-name descname">mcaf_sm</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">phi=None</em>, <em class="sig-param">niter=10</em>, <em class="sig-param">tol=0.0001</em>, <em class="sig-param">eta=0.1</em>, <em class="sig-param">method='N-MCA'</em>, <em class="sig-param">selscat=False</em>, <em class="sig-param">axis=-2</em>, <em class="sig-param">ftshift=True</em>, <em class="sig-param">islog=False</em><span class="sig-paren">)</span><a class="headerlink" href="#torchsar.autofocus.maximum_contrast.mcaf_sm" title="Permalink to this definition">¶</a></dt>
<dd><p>Contrast based autofocus</p>
<p>Maximum-Contrast based Autofocus (MCA)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>Tensor</em>) – complex image with shape <span class="math">\(N×N_a×N_r\)</span> or <span class="math">\(N×N_a×N_r×2\)</span></p></li>
<li><p><strong>phi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><em>optional</em>) – initial value of <span class="math">\(\phi\)</span> (the default is None, which means zeros)</p></li>
<li><p><strong>niter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – number of iterations (the default is 10)</p></li>
<li><p><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) – method used to update the phase error
- <code class="docutils literal notranslate"><span class="pre">'FP-MCA'</span></code> –&gt; Fix Point
- <code class="docutils literal notranslate"><span class="pre">'CD-MCA'</span></code> –&gt; Coordinate Descent
- <code class="docutils literal notranslate"><span class="pre">'SU-MCA'</span></code> –&gt; Simultaneous Update
- <code class="docutils literal notranslate"><span class="pre">'N-MCA'</span></code> –&gt; Newton, see [2], [1] has problem when used to small image
- <code class="docutils literal notranslate"><span class="pre">'SN-MCA'</span></code> –&gt; Simplified Newton
- <code class="docutils literal notranslate"><span class="pre">'MN-MCA'</span></code> –&gt; Modified Newton</p></li>
<li><p><strong>selscat</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Select brighter scatters.</p></li>
<li><p><strong>axis</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – Compensation axis.</p></li>
<li><p><strong>ftshift</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Does shift zero frequency to center?</p></li>
<li><p><strong>islog</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Does print log info.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>see [1] Zhang S , Liu Y , Li X . Fast Entropy Minimization Based Autofocusing Technique for ISAR Imaging[J]. IEEE Transactions on Signal Processing, 2015, 63(13):3425-3434.</dt><dd><p>[2] Zeng T , Wang R , Li F . SAR Image Autofocus Utilizing Minimum-Entropy Criterion[J]. IEEE Geoence &amp; Remote Sensing Letters, 2013, 10(6):1552-1556.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-torchsar.autofocus.minimum_entropy">
<span id="torchsar-autofocus-minimum-entropy-module"></span><h2>torchsar.autofocus.minimum_entropy module<a class="headerlink" href="#module-torchsar.autofocus.minimum_entropy" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="torchsar.autofocus.minimum_entropy.meaf_sm">
<code class="sig-prename descclassname">torchsar.autofocus.minimum_entropy.</code><code class="sig-name descname">meaf_sm</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">phi=None</em>, <em class="sig-param">niter=10</em>, <em class="sig-param">tol=0.0001</em>, <em class="sig-param">eta=0.1</em>, <em class="sig-param">method='N-MEA'</em>, <em class="sig-param">selscat=False</em>, <em class="sig-param">axis=-2</em>, <em class="sig-param">ftshift=True</em>, <em class="sig-param">islog=False</em><span class="sig-paren">)</span><a class="headerlink" href="#torchsar.autofocus.minimum_entropy.meaf_sm" title="Permalink to this definition">¶</a></dt>
<dd><p>Entropy based autofocus</p>
<p>Minimum-Entropy based Autofocus (MEA)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>Tensor</em>) – complex image with shape <span class="math">\(N×N_a×N_r\)</span> or <span class="math">\(N×N_a×N_r×2\)</span></p></li>
<li><p><strong>phi</strong> (<em>Tensor</em><em>, </em><em>optional</em>) – initial value of <span class="math">\(\phi\)</span> (the default is None, which means zeros)</p></li>
<li><p><strong>niter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – number of iterations (the default is 10)</p></li>
<li><p><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><em>optional</em>) – Error tolerance.</p></li>
<li><p><strong>eta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate.</p></li>
<li><p><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) – method used to update the phase error
- <code class="docutils literal notranslate"><span class="pre">'FP-MEA'</span></code> –&gt; Fix Point
- <code class="docutils literal notranslate"><span class="pre">'CD-MEA'</span></code> –&gt; Coordinate Descent
- <code class="docutils literal notranslate"><span class="pre">'SU-MEA'</span></code> –&gt; Simultaneous Update
- <code class="docutils literal notranslate"><span class="pre">'N-MEA'</span></code> –&gt; Newton, see [2], [1] has problem when used to small image
- <code class="docutils literal notranslate"><span class="pre">'SN-MEA'</span></code> –&gt; Simplified Newton
- <code class="docutils literal notranslate"><span class="pre">'MN-MEA'</span></code> –&gt; Modified Newton</p></li>
<li><p><strong>selscat</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Select brighter scatters.</p></li>
<li><p><strong>axis</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – Compensation axis.</p></li>
<li><p><strong>ftshift</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Does shift zero frequency to center?</p></li>
<li><p><strong>islog</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Does print log info.</p></li>
<li><p><strong>[</strong><strong>1</strong><strong>] </strong><strong>Zhang S</strong><strong> , </strong><strong>Liu Y</strong><strong> , </strong><strong>Li X . Fast Entropy Minimization Based Autofocusing Technique for ISAR Imaging</strong><strong>[</strong><strong>J</strong><strong>]</strong><strong> IEEE Transactions on Signal Processing</strong><strong>, </strong><strong>2015</strong><strong>, </strong><strong>63</strong> (<em>see</em>) – 3425-3434.
[2] Zeng T , Wang R , Li F . SAR Image Autofocus Utilizing Minimum-Entropy Criterion[J]. IEEE Geoence &amp; Remote Sensing Letters, 2013, 10(6):1552-1556.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Description</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(Tensor)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="torchsar.autofocus.minimum_entropy.meaf_ssa_sm">
<code class="sig-prename descclassname">torchsar.autofocus.minimum_entropy.</code><code class="sig-name descname">meaf_ssa_sm</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">niter=10</em>, <em class="sig-param">delta=None</em>, <em class="sig-param">toli=0.01</em>, <em class="sig-param">tolo=0.01</em>, <em class="sig-param">ftshift=True</em>, <em class="sig-param">islog=False</em><span class="sig-paren">)</span><a class="headerlink" href="#torchsar.autofocus.minimum_entropy.meaf_ssa_sm" title="Permalink to this definition">¶</a></dt>
<dd><p>Stage-by-Stage minimum entropy</p>
<p>[1] Morrison Jr, Robert Lee; Autofocus, Entropy-based (2002): Entropy-based autofocus for synthetic aperture radar.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>Tensor</em>) – Corrupt complex SAR image. N-Na-Nr(complex) or N-Na-Nr-2(real)</p></li>
<li><p><strong>niter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – The number of iteration (the default is 10)</p></li>
<li><p><strong>delta</strong> (<em>{float</em><em> or </em><em>None}</em><em>, </em><em>optional</em>) – The change step (the default is None (i.e. PI))</p></li>
<li><p><strong>toli</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – Tolerance error for inner loop (the default is 1e-2)</p></li>
<li><p><strong>tolo</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – Tolerance error for outer loop (the default is 1e-2)</p></li>
<li><p><strong>ftshift</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Shift the zero frequency to center? (the default is True)</p></li>
<li><p><strong>islog</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Print log information? (the default is False)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-torchsar.autofocus.phase_error_model">
<span id="torchsar-autofocus-phase-error-model-module"></span><h2>torchsar.autofocus.phase_error_model module<a class="headerlink" href="#module-torchsar.autofocus.phase_error_model" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="torchsar.autofocus.phase_error_model.PolyPhaseErrorGenerator">
<em class="property">class </em><code class="sig-prename descclassname">torchsar.autofocus.phase_error_model.</code><code class="sig-name descname">PolyPhaseErrorGenerator</code><span class="sig-paren">(</span><em class="sig-param">carange=None</em>, <em class="sig-param">crrange=None</em>, <em class="sig-param">seed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#torchsar.autofocus.phase_error_model.PolyPhaseErrorGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="torchsar.autofocus.phase_error_model.PolyPhaseErrorGenerator.mkpec">
<code class="sig-name descname">mkpec</code><span class="sig-paren">(</span><em class="sig-param">n</em>, <em class="sig-param">seed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#torchsar.autofocus.phase_error_model.PolyPhaseErrorGenerator.mkpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Make phase error</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The number of phase errors.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – The random seed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Description</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="torchsar.autofocus.phase_error_model.convert_ppec">
<code class="sig-prename descclassname">torchsar.autofocus.phase_error_model.</code><code class="sig-name descname">convert_ppec</code><span class="sig-paren">(</span><em class="sig-param">cs</em>, <em class="sig-param">degs=None</em>, <em class="sig-param">mode='fftfreq-&gt;2fftfreq'</em><span class="sig-paren">)</span><a class="headerlink" href="#torchsar.autofocus.phase_error_model.convert_ppec" title="Permalink to this definition">¶</a></dt>
<dd><p>convert polynominal phase error</p>
<p>Convert polynominal phase error.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cs</strong> (<em>Tensor</em>) – The polynominal coefficients.</p></li>
<li><p><strong>degs</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em>, </em><em>optional</em>) – The degrees of polynominal.</p></li>
<li><p><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">'fftfreq-&gt;2fftfreq'</span></code> or <code class="docutils literal notranslate"><span class="pre">'2fftfreq-&gt;fftfreq'</span></code> (the default is ‘fftfeq-&gt;2fftfreq’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Converted phase error tensor.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tensor</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – Not support mode.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="torchsar.autofocus.phase_error_model.dctpe">
<code class="sig-prename descclassname">torchsar.autofocus.phase_error_model.</code><code class="sig-name descname">dctpe</code><span class="sig-paren">(</span><em class="sig-param">c</em>, <em class="sig-param">x</em>, <em class="sig-param">deg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#torchsar.autofocus.phase_error_model.dctpe" title="Permalink to this definition">¶</a></dt>
<dd><p>compute phase error with DCT model</p>
<p>compute phase error with DCT model</p>
<div class="math">
\[\phi_{e}(h)=\sum_{p=0}^{P} a(p) \cdot d c t(p) \cdot \cos \left[\frac{\pi\left(2 h_{a}+1\right) p}{2 N}\right]

\]</div>
<p>where, <span class="math">\(a(p)=\left{\begin{array}{ll}1 / \sqrt{N} p=0 \ \sqrt{2 / N} p \neq 0\end{array},\right.\)</span> and
<span class="math">\(\left{\begin{array}{l}p=0,1,2, \cdots \cdots \cdots, P \ h_{a}=[0,1,2, \cdots \cdots, N-1]\end{array}\right.\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> (<em>Tensor</em><em>, </em><em>optional</em>) – The DCT coefficients matrix <span class="math">\({\bf P} = [{\bf p}_1, {\bf p}_2, \cdots, {\bf p}_N ]^T ∈{\mathbb R}^{N × (M + 1)}\)</span>,
where, <span class="math">\({\bf p}_n = [p_0, \cdots, p_M]^T\)</span>).</p></li>
<li><p><strong>x</strong> (<em>Tensor</em><em>, </em><em>optional</em>) – Axis, such as <span class="math">\((0, Na)\)</span>.</p></li>
<li><p><strong>deg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><em>tuple</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em>, </em><em>optional</em>) – The degree of the coefficients, <span class="math">\([p_{\rm min}, p_{\rm_max}]\)</span>, default is <code class="docutils literal notranslate"><span class="pre">None</span></code>, which means <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">size(c,</span> <span class="pre">1)]</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The phase error tensor.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(Tensor)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.9)"><strong>TypeError</strong></a> – <code class="xref py py-attr docutils literal notranslate"><span class="pre">c</span></code> should not be None!</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="torchsar.autofocus.phase_error_model.polype">
<code class="sig-prename descclassname">torchsar.autofocus.phase_error_model.</code><code class="sig-name descname">polype</code><span class="sig-paren">(</span><em class="sig-param">c</em>, <em class="sig-param">x</em>, <em class="sig-param">deg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#torchsar.autofocus.phase_error_model.polype" title="Permalink to this definition">¶</a></dt>
<dd><p>compute phase error with polynominal model</p>
<p>compute phase error with polynominal model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> (<em>Tensor</em><em>, </em><em>optional</em>) – The polynominal coefficients matrix <span class="math">\({\bf P} = [{\bf p}_1, {\bf p}_2, \cdots, {\bf p}_N ]^T ∈{\mathbb R}^{N × (M -1)}\)</span>,
where, <span class="math">\({\bf p}_n = [p_2, \cdots, p_M]^T\)</span>).</p></li>
<li><p><strong>x</strong> (<em>Tensor</em><em>, </em><em>optional</em>) – Axis, such as (-1, 1).</p></li>
<li><p><strong>deg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><em>tuple</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em>, </em><em>optional</em>) – The degree of the coefficients, <span class="math">\([p_{\rm min}, p_{\rm_max}]\)</span>, default is <code class="docutils literal notranslate"><span class="pre">None</span></code>, which means <code class="docutils literal notranslate"><span class="pre">[2,</span> <span class="pre">size(c,</span> <span class="pre">1)</span> <span class="pre">+</span> <span class="pre">1]</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The phase error tensor.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(Tensor)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.9)"><strong>TypeError</strong></a> – <code class="xref py py-attr docutils literal notranslate"><span class="pre">c</span></code> should not be None!</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="torchsar.autofocus.phase_error_model.ppeaxis">
<code class="sig-prename descclassname">torchsar.autofocus.phase_error_model.</code><code class="sig-name descname">ppeaxis</code><span class="sig-paren">(</span><em class="sig-param">n</em>, <em class="sig-param">norm=True</em>, <em class="sig-param">shift=True</em>, <em class="sig-param">mode='fftfreq'</em>, <em class="sig-param">dtype=torch.float32</em>, <em class="sig-param">device='cpu'</em><span class="sig-paren">)</span><a class="headerlink" href="#torchsar.autofocus.phase_error_model.ppeaxis" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sample axis</p>
<p>Return the sample frequencies axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – Number of samples.</p></li>
<li><p><strong>norm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Normalize the frequencies.</p></li>
<li><p><strong>shift</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Does shift the zero frequency to center.</p></li>
<li><p><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Frequency sampling mode. <code class="docutils literal notranslate"><span class="pre">'fftfreq'</span></code> or <code class="docutils literal notranslate"><span class="pre">'freq'</span></code>, for two times,
using <code class="docutils literal notranslate"><span class="pre">'2fftfreq'</span></code> or <code class="docutils literal notranslate"><span class="pre">'2freq'</span></code></p></li>
<li><p><strong>dtype</strong> (<em>Tensor</em>) – Data type, default is <code class="docutils literal notranslate"><span class="pre">th.float32</span></code>.</p></li>
<li><p><strong>device</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – device string, default is <code class="docutils literal notranslate"><span class="pre">'cpu'</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Frequency array with size <span class="math">\(n×1\)</span>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>torch array</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="torchsar.autofocus.phase_error_model.rmlpe">
<code class="sig-prename descclassname">torchsar.autofocus.phase_error_model.</code><code class="sig-name descname">rmlpe</code><span class="sig-paren">(</span><em class="sig-param">phi</em>, <em class="sig-param">mode='poly'</em>, <em class="sig-param">deg=4</em>, <em class="sig-param">ftshift=True</em><span class="sig-paren">)</span><a class="headerlink" href="#torchsar.autofocus.phase_error_model.rmlpe" title="Permalink to this definition">¶</a></dt>
<dd><p>remove linear phase error</p>
<p>Remove linear phase error based on linear fitting, the linear phase error
will cause image shift.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phi</strong> (<em>Tensor</em>) – A <span class="math">\(N×N_x\)</span> phase error tensor with linear trend, where, <span class="math">\(N\)</span> is the batchsize, <span class="math">\(N_x\)</span> is the samples numbers in direction x.</p></li>
<li><p><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – model mode, default is polynominal</p></li>
<li><p><strong>deg</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – Polynomial degrees (default 4) to fit the error, once fitted, the term of deg=[0,1] will be removed.
If <code class="xref py py-attr docutils literal notranslate"><span class="pre">deg</span></code> is None or lower than 2, then we do not fit the error with polynominal and not remove the linear trend.</p></li>
<li><p><strong>ftshift</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Shift zero frequency to center when do fft/ifft/fftfreq? (the default is False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Phase without linear trend.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>phi (tensor)</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-torchsar.autofocus.phase_gradient">
<span id="torchsar-autofocus-phase-gradient-module"></span><h2>torchsar.autofocus.phase_gradient module<a class="headerlink" href="#module-torchsar.autofocus.phase_gradient" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="torchsar.autofocus.phase_gradient.pgaf_sm">
<code class="sig-prename descclassname">torchsar.autofocus.phase_gradient.</code><code class="sig-name descname">pgaf_sm</code><span class="sig-paren">(</span><em class="sig-param">SI</em>, <em class="sig-param">nsar</em>, <em class="sig-param">nsub=None</em>, <em class="sig-param">windb=None</em>, <em class="sig-param">est='ML'</em>, <em class="sig-param">deg=4</em>, <em class="sig-param">niter=None</em>, <em class="sig-param">tol=1e-06</em>, <em class="sig-param">isplot=False</em>, <em class="sig-param">islog=False</em><span class="sig-paren">)</span><a class="headerlink" href="#torchsar.autofocus.phase_gradient.pgaf_sm" title="Permalink to this definition">¶</a></dt>
<dd><p>Phase gradient autofocus for stripmap SAR.</p>
<p>Phase gradient autofocus for stripmap SAR.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>SI</strong> (<em>Tensor</em>) – Complex SAR image <span class="math">\(N_a×N_r\)</span>.</p></li>
<li><p><strong>nsar</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – Number of synthetic aperture pixels.</p></li>
<li><p><strong>nsub</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – Number of sub-aperture pixels. (the default is <span class="math">\({\rm min}{N_{sar}, N_a}\)</span>)</p></li>
<li><p><strong>windb</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><em>optional</em>) – cutoff for window (the default is None, which use the mean as the cutoff.)</p></li>
<li><p><strong>est</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) – estimator, <code class="docutils literal notranslate"><span class="pre">'ML'</span></code> for Maximum Likelihood estimation, <code class="docutils literal notranslate"><span class="pre">'LUMV'</span></code> for Linear Unbiased Minimum Variance estimation (the default is ‘ML’)</p></li>
<li><p><strong>deg</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – Polynomial degrees (default 4) to fit the error, once fitted, the term of deg=[0,1] will be removed.
If <code class="xref py py-attr docutils literal notranslate"><span class="pre">deg</span></code> is None or lower than 2, then we do not fit the error with polynominal and not remove the linear trend.</p></li>
<li><p><strong>niter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum iters (the default is None, which means using <code class="xref py py-attr docutils literal notranslate"><span class="pre">tol</span></code> for stopping)</p></li>
<li><p><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><em>optional</em>) – Phase error tolerance. (the default is 1.e-6)</p></li>
<li><p><strong>isplot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Plot estimated phase error or corrected image. (the default is False)</p></li>
<li><p><strong>islog</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Print log information? (the default is False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Corrected SAR image <span class="math">\({\bm X}\in {\mathbb C}^{N_a×N_r}\)</span>.
phi (Tensor): Estimated phase error <span class="math">\({\phi}\in {\mathbb R}^{N_a×1}\)</span>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SI (Tensor)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.9)"><strong>TypeError</strong></a> – The input is complex and should be in complex or real represent formation!</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – For stripmap SAR, processing sub aperture should be smaller than synthetic aperture!</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="torchsar.autofocus.phase_gradient.pgaf_sm_1iter">
<code class="sig-prename descclassname">torchsar.autofocus.phase_gradient.</code><code class="sig-name descname">pgaf_sm_1iter</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">windb=None</em>, <em class="sig-param">est='ML'</em>, <em class="sig-param">deg=4</em>, <em class="sig-param">axis=-2</em>, <em class="sig-param">isrmlpe=False</em>, <em class="sig-param">iscrct=False</em>, <em class="sig-param">isplot=False</em><span class="sig-paren">)</span><a class="headerlink" href="#torchsar.autofocus.phase_gradient.pgaf_sm_1iter" title="Permalink to this definition">¶</a></dt>
<dd><p>perform phase gradient autofocus 1 iter</p>
<p>Perform phase gradient autofocus 1 iter as described in [1].</p>
<p>revised for stripmap SAR</p>
<ul class="simple">
<li><p>[1] C.V. Jakowatz, D.E. Wahl, P.H. Eichel, D.C. Ghiglia, P.A. Thompson,</p></li>
</ul>
<p>{em Spotlight-mode Synthetic Aperture Radar: A Signal Processing
Approach.} Springer, 1996.</p>
<ul class="simple">
<li><p>[2] D.E. Wahl, P.H. Eichel, D.C. Ghiglia, C.V. Jakowatz, “Phase</p></li>
</ul>
<p>gradient autofocus-a robust tool for high resolution SAR phase
correction,” IEEE Trans. Aero. &amp; Elec. Sys., vol. 30, no. 3, 1994.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>Tensor</em>) – Complex SAR image <span class="math">\({\bm X}\in {\mathbb C}^{N×N_a×N_r}\)</span>, where <span class="math">\(N\)</span> is the batchsize.</p></li>
<li><p><strong>windb</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><em>optional</em>) – Cutoff for window (the default is None, which use the mean as the cutoff.)</p></li>
<li><p><strong>est</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) – Estimator, <code class="docutils literal notranslate"><span class="pre">'ML'</span></code> for Maximum Likelihood estimation, <code class="docutils literal notranslate"><span class="pre">'LUMV'</span></code> for Linear Unbiased Minimum Variance estimation (the default is ‘ML’)</p></li>
<li><p><strong>deg</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The degree of polynominal</p></li>
<li><p><strong>axis</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – Autofocus axis.</p></li>
<li><p><strong>isrmlpe</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Is remove linear phase error? (the default is False)</p></li>
<li><p><strong>iscrct</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Is corrected image? (the default is False)</p></li>
<li><p><strong>isplot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Is plot estimated phase error? (the default is False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Corrected SAR image <span class="math">\({\bm Y}\in {\mathbb C}^{N×N_a×N_r}\)</span>, only if <code class="xref py py-attr docutils literal notranslate"><span class="pre">iscrct</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, xc is returned.
phi (Tensor): Estimated phase error <span class="math">\(\phi\in {\mathbb R}^{N×N_a}\)</span>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>xc (Tensor)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.9)"><strong>TypeError</strong></a> – <code class="xref py py-attr docutils literal notranslate"><span class="pre">x</span></code> is complex and should be in complex or real represent formation!</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – Not supported estimator! Supported are <code class="docutils literal notranslate"><span class="pre">'ML'</span></code> and <code class="docutils literal notranslate"><span class="pre">'LUMV'</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="torchsar.autofocus.phase_gradient.phase_correction">
<code class="sig-prename descclassname">torchsar.autofocus.phase_gradient.</code><code class="sig-name descname">phase_correction</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">phi</em>, <em class="sig-param">nsub=None</em>, <em class="sig-param">axis=-2</em>, <em class="sig-param">ftshift=True</em><span class="sig-paren">)</span><a class="headerlink" href="#torchsar.autofocus.phase_gradient.phase_correction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="torchsar.autofocus.phase_gradient.spotlight_width">
<code class="sig-prename descclassname">torchsar.autofocus.phase_gradient.</code><code class="sig-name descname">spotlight_width</code><span class="sig-paren">(</span><em class="sig-param">H</em>, <em class="sig-param">BWa</em>, <em class="sig-param">Lsar</em><span class="sig-paren">)</span><a class="headerlink" href="#torchsar.autofocus.phase_gradient.spotlight_width" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-torchsar.autofocus">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-torchsar.autofocus" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="torchsar.base.html" class="btn btn-neutral float-right" title="torchsar.base package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="torchsar.html" class="btn btn-neutral float-left" title="torchsar package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2017-2021, Zhi Liu, School of Artificial Intelligence, Xidian University

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>